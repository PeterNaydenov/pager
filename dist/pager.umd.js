!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).pager=t()}(this,(function(){"use strict";return function(e=[]){const t=function(e={}){let t=[],{type:n,limit:r,onLimit:o}=Object.assign({},{type:"FIFO",limit:!1,onLimit:"update"},e),l="LIFO"===n.toUpperCase(),i=!1;function u(e=1,n=0){let r=[];return n>0&&Array.from({length:n}).map((()=>t.pop())),1==e?t.pop():(Array.from({length:e}).map((()=>{let e=t.pop();null!=e&&r.push(e)})),r)}function s(e=1,n=0){let r=[],o=t.length-n;return e>1&&Array.from({length:e}).map((()=>{null!=t[o-1]&&r.push(t[o-1]),o--})),1==e?t[t.length-1]:r}function c(){}return c.prototype={pull:u,pullReverse:function(e=1,t=0){let n=u(e,t);return n instanceof Array?n.reverse():n},peek:s,peekReverse:function(e=1,t=0){const n=s(e,t);return n instanceof Array?n.reverse():n},getSize:()=>t.length,isEmpty:()=>0==t.length,reset:()=>(t=[],!0),debug:()=>[...t]},c.prototype.push=l?function(e){const n=e instanceof Array,l=n?e.length:1;let s=!1;if("full"!==o||!i){if(r&&n&&l>r&&(e=e.slice(0,-l+r)),r){const l=(n?e.length:1)+t.length;l>=r&&"full"===o&&(e=e.slice(0,-(l-r))),l>=r&&"update"===o&&(s=u(l-r))}return t=e instanceof Array?t.concat(e):t.concat([e]),i=!!r&&t.length===r,s||void 0}}:function(e){const n=e instanceof Array,l=n?e.length:1;let s=!1;if("full"!==o||!i){if(r&&n&&l>r&&(e=e.slice(l-r)),r){const l=(n?e.length:1)+t.length;l>=r&&"full"===o&&(e=e.slice(0,-(l-r))),l>=r&&"update"===o&&(s=u(l-r))}return t=n?e.reduce(((e,t)=>[t,...e]),t):[e].reduce(((e,t)=>[t,...e]),t),i=!!r&&t.length===r,s||void 0}},new c}({type:"FIFO"});t.push(e);const n=()=>t.getSize();return{push:e=>t.push(e),pull:function(e=1,n=20,r=0){const o=r+(e-1)*n;return t.peek(n,o)},getSize:n,countPages:function(e=20){return Math.ceil(n()/e)},reset:()=>t.reset()}}}));
